# F004 - 仪表盘

## 基本信息

| 属性 | 值 |
|------|-----|
| 功能编号 | F004 |
| 功能名称 | 仪表盘 |
| 所属模块 | 概览 |
| 实现版本 | 0.1.0 |
| 实现日期 | 2026-01-17 |
| 状态 | ✅ 完成 |

## 功能概述

系统首页仪表盘，展示团队协作状态概览，包括设备统计、项目统计、设备列表等关键信息。

## 用户故事

1. 作为用户，我希望一进入系统就看到整体概况，以便快速了解当前状态
2. 作为用户，我希望看到关键统计数据，以便监控团队效率
3. 作为用户，我希望看到设备实时状态，以便掌握设备工作情况

## 功能需求

### FR-004-01: 统计卡片

**描述**: 展示关键统计数据

**内容**:
| 指标 | 说明 |
|------|------|
| 总设备数 | 系统中注册的设备总数 |
| 在线设备 | 当前在线的设备数量 |
| 活跃项目 | 进行中的项目数量 |
| 总提交数 | 所有设备的代码提交总数 |
| 文档数量 | 知识库中的文档总数 |

**UI 特点**:
- 渐变背景卡片
- 图标配色
- 动画效果（悬停放大、光泽效果）

### FR-004-02: 设备列表

**描述**: 展示所有设备的简要信息

**显示内容**:
- 设备图标（带状态颜色）
- 操作系统图标
- 设备名称
- 设备类型和操作系统
- 当前状态（彩色标签）
- 当前任务

**特点**:
- 左侧状态指示条
- 悬停动画效果
- 10秒自动刷新

## 技术实现

### 前端

| 文件 | 说明 |
|------|------|
| `client/src/pages/Dashboard.tsx` | 仪表盘页面 |

### API 调用

| 端点 | 说明 |
|------|------|
| `GET /api/stats` | 获取统计数据 |
| `GET /api/devices` | 获取设备列表 |

### Stats 数据结构

```typescript
interface Stats {
  totalDevices: number
  onlineDevices: number
  activeProjects: number
  totalCommits: number
  totalDocs: number
}
```

## UI 设计

### 布局

```
┌─────────────────────────────────────────────────────────┐
│ 仪表盘                                                   │
│ 一览团队协作状态                                          │
├─────────┬─────────┬─────────┬─────────┬─────────────────┤
│ 总设备数 │ 在线设备 │ 活跃项目 │ 总提交数 │ 文档数量       │
│    7    │   4/7   │    2    │   156   │    12          │
├─────────┴─────────┴─────────┴─────────┴─────────────────┤
│ 设备列表                                                 │
│ 共 7 个设备 · 4 个在线                                    │
├─────────────────────────────────────────────────────────┤
│ [🟢] MacBook Pro M2        VS Code · macOS    iTeam 项目 │
│ [🔵] Ubuntu 开发机          Claude · Ubuntu   API 开发   │
│ [🟢] Windows 工作站         Windsurf · Win    文档编写   │
│ [⚫] MacBook Pro            VS Code · macOS   -         │
└─────────────────────────────────────────────────────────┘
```

### 颜色主题

- 主背景：紫色渐变
- 卡片：玻璃态效果（glass）
- 状态颜色：
  - 在线：绿色渐变
  - 工作中：蓝色渐变
  - 空闲：黄色渐变
  - 离线：灰色渐变

## 动画效果

| 元素 | 动画 |
|------|------|
| 页面加载 | slide-up 渐入 |
| 统计卡片 | hover 放大 + 光泽扫过 |
| 设备卡片 | hover 放大 + 光泽滑动 |
| 在线状态 | ping 脉冲效果 |

## 测试用例

| 编号 | 场景 | 预期结果 |
|------|------|---------|
| TC-004-01 | 访问仪表盘 | 显示统计卡片和设备列表 |
| TC-004-02 | 等待10秒 | 数据自动刷新 |
| TC-004-03 | 无设备时 | 显示"暂无设备"提示 |
