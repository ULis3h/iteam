# iTeam 更新日志

所有重要更改都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)。

---

## [Unreleased]

### ✨ 新增功能

**角色与 Agent 技能管理 (F007) - 基础实现**
- ✅ 定义 8 种预设角色（前端、后端、全栈、DevOps、QA、架构师、PM、设计师）
- ✅ 完整的角色 Skill 配置（技能栈、职责、能力、Agent 指令）
- ✅ 角色配置 API (`GET /api/roles`, `GET /api/roles/:roleId`)
- ✅ 角色配置文件 (`server/config/roles.json`)
- ✅ Agent 协作偏好定义
- ✅ 角色 Prompt 模板（系统提示词、任务提示词、约束条件）
- ✅ 文档中心集成（角色 Skill 自动同步到文档中心）
- ✅ 角色文档生成器（将配置转换为结构化 Markdown）
- ✅ 服务器启动时自动同步文档（创建/更新角色技能文档）
- ✅ 文档分类支持（新增 'role-skill' 分类）

**项目管理 (F005) - 完整实现**
- ✅ 项目 CRUD 完整功能（创建、编辑、删除、查看）
- ✅ 项目模态框组件
- ✅ 项目列表展示（包含贡献统计和任务）
- ✅ 代码贡献统计（提交数、贡献者、代码行数）
- ✅ 活跃任务列表展示
- ✅ 项目状态管理（进行中/暂停/已完成）
- ✅ API 服务层封装
- ✅ 完整的表单验证
- ✅ 删除确认对话框
- ✅ 实时数据更新

### 📝 文档更新
- 📄 新增 F007 角色与 Agent 技能管理完整设计文档
- 📄 新增 API 文档：`docs/api/roles.md`
- 📄 详细定义 8 种角色的完整 Skill 配置
- 📄 提供 Agent 使用指南和集成示例
- 📄 完善 F005 功能设计文档
- 📄 新增 API 文档：`docs/api/projects.md`
- 📄 新增详细用户故事和验收标准
- 📄 新增测试用例文档

### 🔧 优化改进
- 🎨 改进前端类型定义（Contribution, Task）
- 🛠 创建 API 统一服务层
- 🛠 添加 axios 拦截器（自动 Token 处理）
- 💅 优化项目卡片 UI（编辑/删除按钮）
- 💅 调整顶部导航栏布局（用户按钮移至最右侧）

---

## [0.1.0] - 2026-01-17

### 🎉 首次发布

#### ✨ 新增功能

**用户认证 (F001)**
- 用户注册功能（邮箱、用户名、密码）
- 用户登录功能（支持邮箱或用户名）
- JWT Token 认证（7天有效期）
- 路由保护（未登录重定向到登录页）
- 用户头像显示和登出功能

**设备管理 (F002)**
- 设备列表展示
- 设备详情查看（硬件信息、使用率）
- 设备心跳更新
- 设备状态监控（在线/离线/工作中/空闲）
- 操作系统图标显示
- API Key 设备认证

**团队角色 (F003)**
- 设备角色分配
- 8种预设角色（前端、后端、全栈、DevOps、QA、架构师、PM、设计师）
- 彩色角色标签展示

**仪表盘 (F004)**
- 统计卡片（设备数、在线数、项目数等）
- 设备列表概览
- 自动刷新（10秒）
- 动态背景和动画效果

**项目管理 (F005) - 基础**
- 项目列表 API
- 项目数据模型

**文档中心 (F006) - 基础**
- 文档列表展示
- 分类筛选（开发规范、技术积累、Bug修复、其他）
- 搜索功能

#### 🛠 技术栈

- **前端**: React 18 + TypeScript + Tailwind CSS
- **后端**: Node.js + Express + Prisma
- **数据库**: SQLite
- **认证**: JWT + bcrypt + API Key

#### 📁 项目结构

```
iteam/
├── client/           # 前端应用
├── server/           # 后端服务
├── docs/             # 项目文档
├── simulate-devices.sh
└── start-dev.sh
```

---

## 版本规划

### [0.2.0] - 计划中

- [ ] 项目管理完整 UI
- [ ] 文档编辑器（Markdown）
- [ ] 设备编辑功能
- [ ] 用户个人设置

### [0.3.0] - 计划中

- [ ] 实时通知（WebSocket）
- [ ] 任务分配和跟踪
- [ ] 代码提交统计

---

## 图例

- ✨ 新增功能
- 🐛 Bug 修复
- 🔧 优化改进
- 🚨 重大变更
- 📝 文档更新
- 🔒 安全更新
